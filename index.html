<!DOCTYPE html>
<html>
<head>
    <title>File Download Test</title>
</head>
<body>
    <h1>File Download Test</h1>
    <p>Click the button to download a file:</p>
    <button onclick="downloadFile('example.txt', '123')">Download File</button>

    <script>
        function downloadFile(filename, company_id) {
            fetch(`http://localhost:4000/api/download/${company_id}/${filename}`)
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw new Error('Error downloading file');
                    }
                })
                .then(html => {
                    const downloadWindow = window.open('', 'Download', 'width=400,height=300');
                    downloadWindow.document.write(html);
                    downloadWindow.document.close();
                })
                .catch(error => {
                    alert(error.message);
                });
        }
    </script>
</body>
</html>